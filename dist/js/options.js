$(function(){var a=$("#js-input"),b=$("#js-button"),c=$("#js-alert"),d=chrome.storage.sync,e={APIToken:"pinput_APIToken",isAuthenticated:"pinput_isAuthenticated"},f={isBlank:"Please input token and try to save.",succeed:"API token is successfully authenticated!",changed:"API token is not authenticated...",failed:"API token authentication is failed..."};d.get(e.APIToken,function(b){var d;if(d=b.hasOwnProperty(e.APIToken)?b[e.APIToken]:"",0!==d.length){var g="https://api.pinboard.in/v1/posts/get?format=json&auth_token="+d;$.getJSON(g).done(function(){c.removeClass("alert-info alert-warning alert-danger"),c.html(f.succeed).addClass("alert-success")}).fail(function(){c.removeClass("alert-info alert-warning alert-success"),c.html(f.failed).addClass("alert-danger")})}else c.removeClass("alert-danger alert-warning alert-success"),c.html(f.isBlank).addClass("alert-info");a.val(d)}),a.on("change",function(){c.removeClass("alert-info alert-success alert-danger"),c.html(f.changed).addClass("alert-warning")}),b.on("click",function(){var b=a.val(),g={};g[e.APIToken]=b,d.set(g,function(){if(0!==b.length){var a="https://api.pinboard.in/v1/posts/get?format=json&auth_token="+b;$.getJSON(a).done(function(){g[e.isAuthenticated]=1,d.set(g,function(){c.removeClass("alert-info alert-warning alert-danger"),c.html(f.succeed).addClass("alert-success")})}).fail(function(){g[e.isAuthenticated]=0,d.set(g,function(){c.removeClass("alert-info alert-warning alert-success"),c.html(f.failed).addClass("alert-danger")})})}else g[e.isAuthenticated]=0,d.set(g,function(){c.removeClass("alert-danger alert-warning alert-success"),c.html(f.isBlank).addClass("alert-info")})})})});