!function(a){var b=a.Pinput||{},c=b.Options||{};c.Message={isBlank:"Please input token and try to save.",succeed:"API token is successfully authenticated!",changed:"API token is not authenticated...",failed:"API token authentication is failed..."},$(function(){var a=$("#js-input"),d=$("#js-button"),e=$("#js-alert"),f=$("#js-checkbox"),g=chrome.storage.sync,h=[b.StorageKey.authToken,b.StorageKey.useTagSuggestion];g.get(h,function(d){b.authToken=d.hasOwnProperty(b.StorageKey.authToken)?d[b.StorageKey.authToken]:"",b.useTagSuggestion=d.hasOwnProperty(b.StorageKey.useTagSuggestion)?!!d[b.StorageKey.useTagSuggestion]:!1,f.prop("checked",b.useTagSuggestion),0!==b.authToken.length?b.API.getPost().done(function(){e.removeClass("alert-info alert-warning alert-danger"),e.html(c.Message.succeed).addClass("alert-success"),b.isAuthenticated=!0}).fail(function(){e.removeClass("alert-info alert-warning alert-success"),e.html(c.Message.failed).addClass("alert-danger"),b.isAuthenticated=!1}):(e.removeClass("alert-danger alert-warning alert-success"),e.html(c.Message.isBlank).addClass("alert-info"),b.isAuthenticated=!1),a.val(b.authToken)}),a.on("change",function(){e.removeClass("alert-info alert-success alert-danger"),e.html(c.Message.changed).addClass("alert-warning")}),f.on("change",function(){b.useTagSuggestion=f.prop("checked");var a={};a[b.StorageKey.useTagSuggestion]=b.useTagSuggestion,g.set(a,function(){})}),d.on("click",function(){b.authToken=a.val();var d={};d[b.StorageKey.authToken]=b.authToken,g.set(d,function(){0!==b.authToken.length?b.API.getPost().done(function(){d[b.StorageKey.isAuthenticated]=1,g.set(d,function(){e.removeClass("alert-info alert-warning alert-danger"),e.html(c.Message.succeed).addClass("alert-success"),b.isAuthenticated=!0})}).fail(function(){d[b.StorageKey.isAuthenticated]=0,g.set(d,function(){e.removeClass("alert-info alert-warning alert-success"),e.html(c.Message.failed).addClass("alert-danger"),b.isAuthenticated=!1})}):(d[b.StorageKey.isAuthenticated]=0,g.set(d,function(){e.removeClass("alert-danger alert-warning alert-success"),e.html(c.Message.isBlank).addClass("alert-info"),b.isAuthenticated=!1}))})})}),a.Pinput=b}(this);